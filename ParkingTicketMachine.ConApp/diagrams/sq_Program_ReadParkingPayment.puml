@startuml Program.ReadParkingPayment
title Program.ReadParkingPayment
participant "ReadParkingPayment" as ReadParkingPayment #LightYellow
participant "Console.Write(a0)" as Console_Write_a0 #LightGreen
participant "Console.ReadLine()" as Console_ReadLine #LightGreen
participant "input.ToLower()" as input_ToLower #LightGreen
participant "int.TryParse(a0,a1)" as int_TryParse_a0_a1 #LightGreen
participant "_coins.Contains(a0)" as _coins_Contains_a0 #LightGreen
participant "Console.WriteLine(a0)" as Console_WriteLine_a0 #LightGreen
autonumber
loop#LightCoral exit == false && result < _maxPaymentInCents
    ReadParkingPayment -[#grey]> Console_Write_a0 : ($"Parkzeit bisher: {(result >= _minPaymentInCents ? ToHoursFormat(ToMinutes(result)) : "00:00")}, Einwurf bisher: {result} Cent,  d für Ticket, Einwurf in Cent: ")
    ReadParkingPayment -[#grey]> Console_ReadLine
    Console_ReadLine -[#blue]-> ReadParkingPayment : input
    alt#LightBlue input.ToLower() == "d"
        ReadParkingPayment -[#grey]> input_ToLower
        input_ToLower -[#blue]-> ReadParkingPayment : result
        ReadParkingPayment -[#grey]> Console_Write_a0 : ($"Mindesteinwurf {_minPaymentInCents} Cent, bisher haben Sie {result} eingeworfen")
        else
            alt#LightBlue int.TryParse(input, out int coin)
                ReadParkingPayment -[#grey]> int_TryParse_a0_a1 : (input, out int coin)
                int_TryParse_a0_a1 -[#blue]-> ReadParkingPayment : result
                alt#LightBlue _coins.Contains(coin)
                    ReadParkingPayment -[#grey]> _coins_Contains_a0 : (coin)
                    else
                        ReadParkingPayment -[#grey]> Console_WriteLine_a0 : ($"'{coin}' ist ein ungültiger Wert!")
                end
            end
    end
end
@enduml
